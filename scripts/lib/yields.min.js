"use strict";function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}(function(){var all,any,checkedof,clearError,countIt,delws,div,ejoin,element,evalPotentialYield,fail,first,h1,h2,h3,h4,h5,h6,htmlget,htmlset,keys,last,makeKeyCells,makeMapCells,makeValueCells,max,maxKey,maxValue,min,mul,neue,neueText,runApplication,runParser,sub,sum,unique,valueof,values,valueset,indexOf=[].indexOf;sub=function sub(x,y){return x-y};sum=function sum(x,y){if(y==null){return x.reduce(document.flexibel.sum)}return x+y};mul=function mul(x,y){if(y==null){return x.reduce(document.flexibel.mul)}return x*y};div=function div(x,y){return x/y};min=function min(x,y){if(y==null){return x.reduce(document.flexibel.min)}if(x<y){return x}else{return y}};max=function max(x,y){if(y==null){return x.reduce(document.flexibel.max)}if(x>y){return x}else{return y}};last=function last(container){return container[container.length-1]};first=function first(container){return container[0]};neue=function neue(name,inner){var elem;elem=document.createElement(name);if(inner!=null){elem.innerHTML=inner}return elem};neueText=function neueText(name,inner){var elem;elem=document.createElement(name);if(inner!=null){elem.innerText=inner}return elem};div=function div(inner){var elem;elem=document.createElement("div");if(inner!=null){elem.innerHTML=inner}return elem};h1=function h1(text){return neueText("h1",text)};h2=function h2(text){return neueText("h2",text)};h3=function h3(text){return neueText("h3",text)};h4=function h4(text){return neueText("h4",text)};h5=function h5(text){return neueText("h5",text)};h6=function h6(text){return neueText("h6",text)};element=function element(id){if(id.startsWith(".")){return document.getElementsByClassName(id.substring(1))}return document.getElementById(id)};valueset=function valueset(id,value){return document.flexibel.element(id).value=value};valueof=function valueof(id){return document.flexibel.element(id).value};checkedof=function checkedof(id){return document.flexibel.element(id).checked};htmlset=function htmlset(id,html){return document.flexibel.element(id).innerHTML=html};htmlget=function htmlget(id){return document.flexibel.element(id).innerHTML};any=function any(values,f){var i,j,len;for(j=0,len=values.length;j<len;j++){i=values[j];if(f(i)){return true}}return false};all=function all(values,f){var i,j,len;for(j=0,len=values.length;j<len;j++){i=values[j];if(!f(i)){return false}}return true};ejoin=function ejoin(values){return values.join("")};delws=function delws(str,sym){return str.replace(/\s+/g,"")};values=function values(map){return _toConsumableArray(map.values())};keys=function keys(map){return _toConsumableArray(map.keys())};maxKey=function maxKey(map){return document.flexibel.keys(map).reduce(document.flexibel.max)};maxValue=function maxValue(map){return document.flexibel.values(map).reduce(document.flexibel.max)};unique=function unique(values){return _toConsumableArray(new Set(values))};countIt=function countIt(map,it){if(map.has(it)){return map.set(it,map.get(it)+1)}else{return map.set(it,1)}};makeValueCells=function makeValueCells(map){var ref,results,v;ref=map.values();results=[];var _iterator=_createForOfIteratorHelper(ref),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){v=_step.value;results.push("<td>".concat(v,"</td>"))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return results};makeKeyCells=function makeKeyCells(map){var k,ref,results;ref=map.keys();results=[];var _iterator2=_createForOfIteratorHelper(ref),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){k=_step2.value;results.push("<td>".concat(k,"</td>"))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return results};makeMapCells=function makeMapCells(values,mapper){var k,results;results=[];var _iterator3=_createForOfIteratorHelper(values),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){k=_step3.value;results.push("<td>".concat(mapper(k),"</td>"))}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return results};document.flexibel={makeKeyCells:makeKeyCells,makeValueCells:makeValueCells,countIt:countIt,maxValue:maxValue,maxKey:maxKey,keys:keys,values:values,delws:delws,ejoin:ejoin,htmlset:htmlset,checkedof:checkedof,valueof:valueof,valueset:valueset,element:element,first:first,last:last,max:max,min:min,sum:sum,sub:sub,mul:mul,div:div,all:all,any:any};runParser=function runParser(input){var getCurrent,next,parseNumber,parserState,ref;parserState={result:[],currentPosition:0,input:input};getCurrent=function getCurrent(state){return state.input[state.currentPosition]};next=function next(state){var current;current=getCurrent(state);state.currentPosition++;return current};parseNumber=function parseNumber(state){var buffer,current,ref;buffer=next(state);while(ref=current=next(state),indexOf.call("0123456789.",ref)>=0){buffer+=current}return state.result.push(parseFloat(buffer))};while(parserState.currentPosition<input.length){if(ref=getCurrent(parserState),indexOf.call("0123456789-",ref)>=0){parseNumber(parserState)}else{next(parserState)}}return parserState.result};runApplication=function runApplication(){return evalPotentialYield()};fail=function fail(error){htmlset("errorlogs",'<p style="color: red;">'.concat(error,"</p>"));return false};clearError=function clearError(){return fail("")};evalPotentialYield=function evalPotentialYield(){var coeffpar,cval,par,partadd,py,pyadd,pybase,wetbase;par=runParser(valueof("par"));coeffpar=runParser(valueof("coeff-par"));cval=runParser(valueof("cval"));wetbase=runParser(valueof("wetbase"));partadd=runParser(valueof("partadd"));py=par*coeffpar/(1e3*cval);pybase=py*100/((100-wetbase)*(1+partadd));pyadd=pybase*partadd;return htmlset("result","ПУ = ".concat(py,"<br>ПУ<sub>осн</sub> = ").concat(pybase,"<br>ПУ<sub>поб</sub> = ").concat(pyadd))};element("runButton").addEventListener("click",runApplication)}).call(void 0);